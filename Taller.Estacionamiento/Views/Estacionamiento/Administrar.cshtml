@model Taller.Estacionamiento.Models.Estacionamiento

@{
    ViewBag.Title = "Administrar";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="page-header">
    <h1>
        Estacionamiento
        <small>
            <i class="ace-icon fa fa-angle-double-right"></i>
            Administrar Slots
        </small>
    </h1>
</div>
<div class="row">
    <div class="col-xs-12">
        <a href="@Url.Action("AgregarSlot", new { id = this.Model.ID })" class="btn btn-info pull-right" style="margin-bottom:5px">Nuevo Slot</a>
    </div>
    <div class="col-xs-12">
        <table id="dynamic-table" class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>Identificador</th>
                    <th>Estado</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>

                @foreach (var slot in Model.Todos())
                {

                    <tr>

                        <td>@slot.Codigo</td>
                        @if (@slot.Estado.Equals(Taller.Estacionamiento.Models.EstadoEspacio.NoDisponible))
                        {
                            <td>
                                <span class="label label-sm">@slot.Estado</span>
                            </td>
                        }
                        @if (@slot.Estado.Equals(Taller.Estacionamiento.Models.EstadoEspacio.Disponible))
                        {
                            <td>
                                <span class="label label-sm label-success">@slot.Estado</span>
                            </td>
                        }
                        @if (@slot.Estado.Equals(Taller.Estacionamiento.Models.EstadoEspacio.Ocupado))
                        {
                            <td>
                                <span class="label label-sm label-danger">@slot.Estado</span>
                            </td>
                        }
                        @if (@slot.Estado.Equals(Taller.Estacionamiento.Models.EstadoEspacio.Reservado))
                        {
                            <td>
                                <span class="label label-sm label-warning">@slot.Estado</span>
                            </td>
                        }
                        <td>

                            <a class="green" href="@Url.Action("EditarSlot","Estacionamiento")">
                                <i class="ace-icon fa fa-pencil bigger-130"></i>
                            </a>
                            &nbsp;
                            <a class="red" href="#" data-toggle="modal" data-target="#myModal">
                                <i class="ace-icon fa fa-trash-o bigger-130"></i>
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>


@section ViewsScripts {
    <script type="text/javascript">
        $(document).ready(function () {
            $("#dynamic-table").dataTable({
                "language": {
                    "sProcessing": "Procesando...",
                    "sLengthMenu": "Mostrar _MENU_ registros",
                    "sZeroRecords": "No se encontraron resultados",
                    "sEmptyTable": "Ningún dato disponible en esta tabla",
                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                    "sInfoPostFix": "",
                    "sSearch": "Buscar:",
                    "sUrl": "",
                    "sInfoThousands": ",",
                    "sLoadingRecords": "Cargando...",
                    "oPaginate": {
                        "sFirst": "Primero",
                        "sLast": "Último",
                        "sNext": "Siguiente",
                        "sPrevious": "Anterior"
                    },
                    "oAria": {
                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                    }
                }
            });
        });
    </script>
}

